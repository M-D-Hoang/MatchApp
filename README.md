# fmp

An online marketplace.

The site URL is https://620fmp.azurewebsites.net/

# Development Setup

## Initial Setup
To install the dependencies, run
```
npm install
```
in the project root. This will download all the required dependencies for both the client and the server.

## .env File Declaration

The first thing you should do is copy the `/server/template.env` and name that copy `.env`. Fill it with the following information:

| Key                        | Value                                                                             |
|----------------------------|-----------------------------------------------------------------------------------|
| LOCATION_API               | The API key from https://geocode.maps.co                                          |
| GOOGLE_CLIENT_ID           | The Client ID found in the credentials section of the Google Cloud OAUTH service on the Credentials page: https://console.cloud.google.com/                                                                                  |
| GOOGLE_CLIENT_SECRET       | The client secret, found in the same page as the above. **THIS IS SENSITIVE -  DO NOT SHARE**                                                                                   |
| AZURE_SAS                  | The SAS token of your Azure SAS for the storage blob.                                                                                   |
| AZURE_STORAGE_ACCOUNT_NAME |  The name of the Storage Account you'd like to use.                                                                                 |
| ATLAS_URI                  |    The URI of the MongoDB server. You can either use MongoDBAtlas, or create a MongoDB server of your own.                                                                               |
| SESSION_SECRET             | The secret key used for storing sessions. Should be a secure, autogenerated hash. |



## Seed the database

1. Open the `server/utils/seed.cjs` file.
2. Go to the bottom where the following is shown:
```
// occupyUserDB();
occupyItemDB();
// occupyCarDB();
```
3. You must run `npm run seed` in the `/server/` directory three times. After each time, you must un-comment one of the above and re-comment out the one that was already without. You must do this once per each of the above lines to seed each respective collection.

## Final Preperation
After seeding, go into the `/client/` directory and run `npm run build`. This will build a client so the server can run. After this, you are now ready to run the webserver for either development or production.